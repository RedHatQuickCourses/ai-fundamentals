<div class="knowledge-check" data-question="{{question}}" data-correct="{{correct}}" data-correct-feedback="{{correctFeedback}}" data-incorrect-feedback="{{incorrectFeedback}}">
  <div class="knowledge-check-question">
    <strong>{{question}}</strong>
  </div>
  <div class="knowledge-check-options">
    {{#each options}}
    <label class="knowledge-check-option">
      <input type="radio" name="knowledge-check-{{@../index}}" value="{{value}}" />
      <span>{{label}}</span>
    </label>
    {{/each}}
  </div>
  <button class="knowledge-check-submit" onclick="checkKnowledgeAnswer(this)">Check Answer</button>
  <div class="knowledge-check-feedback" style="display: none;"></div>
</div>

<script>
function checkKnowledgeAnswer(button) {
  const container = button.closest('.knowledge-check');
  const selected = container.querySelector('input[type="radio"]:checked');
  const correct = container.dataset.correct;
  const feedbackDiv = container.querySelector('.knowledge-check-feedback');
  
  if (!selected) {
    feedbackDiv.textContent = 'Please select an answer.';
    feedbackDiv.style.display = 'block';
    feedbackDiv.className = 'knowledge-check-feedback warning';
    return;
  }
  
  const isCorrect = selected.value === correct;
  feedbackDiv.textContent = isCorrect 
    ? '✓ ' + container.dataset.correctFeedback
    : '✗ ' + container.dataset.incorrectFeedback;
  feedbackDiv.className = 'knowledge-check-feedback ' + (isCorrect ? 'correct' : 'incorrect');
  feedbackDiv.style.display = 'block';
  
  // Disable all inputs
  container.querySelectorAll('input[type="radio"]').forEach(input => {
    input.disabled = true;
  });
  button.disabled = true;
}
</script>

<style>
.knowledge-check {
  border: 1px solid #ddd;
  border-radius: 4px;
  padding: 1rem;
  margin: 1.5rem 0;
  background-color: #f9f9f9;
}

.knowledge-check-question {
  margin-bottom: 1rem;
  font-size: 1.1em;
}

.knowledge-check-options {
  margin: 1rem 0;
}

.knowledge-check-option {
  display: block;
  padding: 0.5rem;
  margin: 0.5rem 0;
  cursor: pointer;
  border-radius: 4px;
  transition: background-color 0.2s;
}

.knowledge-check-option:hover {
  background-color: #e8e8e8;
}

.knowledge-check-option input[type="radio"] {
  margin-right: 0.5rem;
}

.knowledge-check-submit {
  background-color: #0066cc;
  color: white;
  border: none;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  cursor: pointer;
  font-size: 1em;
}

.knowledge-check-submit:hover {
  background-color: #0052a3;
}

.knowledge-check-submit:disabled {
  background-color: #ccc;
  cursor: not-allowed;
}

.knowledge-check-feedback {
  margin-top: 1rem;
  padding: 0.75rem;
  border-radius: 4px;
}

.knowledge-check-feedback.correct {
  background-color: #d4edda;
  color: #155724;
  border: 1px solid #c3e6cb;
}

.knowledge-check-feedback.incorrect {
  background-color: #f8d7da;
  color: #721c24;
  border: 1px solid #f5c6cb;
}

.knowledge-check-feedback.warning {
  background-color: #fff3cd;
  color: #856404;
  border: 1px solid #ffeaa7;
}
</style>
